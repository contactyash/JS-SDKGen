# vGen

vGen is API SDK generator, based on json file generated for api docs by Swagger or Goland or optionally your own json file with any shape with transform function. It can run in both browser(a tool can be made) and node.

```
npm i vwgen -g
```

```
vwgen json-file-path js-file-path(optional) --isSwagger/--isGo
```

you can provide following options

| params           | for                                                                                                                                                                                                                                             |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `json-file-path` | first argument is json file                                                                                                                                                                                                                     |
| `js-file-path`   | In case your json file is not generated by goDocs or swagger, you need to pass a js file named exporting `transformJson` function which should return array having object with four key `operationName`,`requestMethod`, `url` and `isFormData` |
| `--isSwagger`    | if json file is generated by swagger                                                                                                                                                                                                            |
| `--isGo`         | if json file is generated by goDocs                                                                                                                                                                                                             |

Now calling generateSDK will generate a js file with name apiSDK default exporting a class you can use this file in you fronted directly or publish as a package.

## Using Generated SDK

```
import MySDK from './path-of-file';
import axiosInstance from './path-of-file';

const myApp = new MySDK(axiosInstance);
export { myApp }
```

now any where in your application

```
import myApp from './path-of-file';
async function handleSignIn(name,password){
  const {data,error}= await my.signIn({
   name,
   password
  })
}

async function getUser(){
  const {data,error}= await my.signIn({
    ...otherdata,
   _params:{
   //any query paramater
   },
   _pathParams:{
     userId:'fdkfdslfj' // this key should be same as in path i.e '/users/{userId}'
   }
  })
}
```

###### note: It will handle error for you, so you will not get errors in catch block but in response only.

### What's so cool about this?

You don't have to deal with calling API's, managing API constants, handling errors, approriate headers, params,path params etc.
On top of that if backend change data structure of response, they can provide a object `transformOperations` with key as operationName functions which
will take current data structure and provide the previous version for one who opt to use old version.

### What Next

- make a browser tool
- make it generate Reducers for react, handle calling them using action creator internally
